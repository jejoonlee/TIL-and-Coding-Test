# ğŸ“‹Django 7, 8

#### Category

[Web FrameWork](#%EF%B8%8F-Web-framework)

[ModelForm](#%EF%B8%8F-ModelForm)

[Bootstrap](#%EF%B8%8F-bootstrap)

[Static Files](#%EF%B8%8F-static-file)



## âœ”ï¸ Web FrameWork

> 1. URL ìš”ì²­ì„ ë°›ì•„ (urls.py)
>
> 2. ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  (views.py)
>
> 3. ì‘ë‹µì„ í•œë‹¤

### ê²Œì‹œíŒ ë§Œë“¤ê¸° ì˜ˆì‹œ

|      | ê¸°ëŠ¥                               | URL                                             | views.py          |
| ---- | ---------------------------------- | ----------------------------------------------- | ----------------- |
| ìƒì„± | HTML form \| DB ì œì‘ê³¼ì •           | `/articles/new/` | `/articles/create/`          | `new` | `create`  |
| ì¡°íšŒ | ê¸€ì„ ëˆ„ë¥´ë©´ DB ê°’ ì¡°íšŒ             | `/articles/<pk>/`                               | `detail`          |
| ì‚­ì œ | ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ DB ê°’ ì‚­ì œ           | `/articles/<pk>/delete/`                        | `delete`          |
| ìˆ˜ì • | HTML form + ê¸°ë³¸ê°’ \| DB ì €ì¥ ê³¼ì • | `/articles/<pk>/edit` | `/articles/<pk>/update` | `edit` | `update` |

- `<pk>` : DB ì•ˆì— ìˆëŠ” íŠ¹ì •í•œ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¤ê¸° ìœ„í•´ì„œ
- í´ë¼ì´ì–¸íŠ¸ëŠ” URL ìš”ì²­ (HTTP ìš”ì²­ ë©”ì„¸ì§€)
  - path / methods / header / protocol

-------------------------------------

## âœ”ï¸ ModelForm

> ì´ë¯¸ models.py ì— ì €ì¥í•œ `field`ë“¤ì„ ê·¸ëŒ€ë¡œ HTML ë¬¸ì„œì— ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì´ìš©í•œë‹¤.
>
> - ì´ë ‡ê²Œ í•˜ë©´, HTML ë¬¸ì„œì˜ `<form>` íƒœê·¸ ì‚¬ì´ì— ì…ë ¥ê°’ë“¤ì„ ë‹¤ì‹œ ì“¸ í•„ìš”ê°€ ì—†ë‹¤
>
> models.py ì— ì •ì˜ëœ fieldì— ë§Ÿì¶°
>
> - UIë¥¼ ê·¸ë ¤ì£¼ê³  / ìœ íš¨ì„±ì„ ê²€ì‚¬í•´ì£¼ê³  / DBì— ì €ì¥ì‹œì¼œì¤€ë‹¤

------------------------------------------

#### CREATE

> UI ì œê³µ **(GET)**   |   DB ì €ì¥ **(POST)**

#### READ

> DBì—ì„œ íŠ¹ì • ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì¡°íšŒ

#### UPDATE

> UI ì œê³µ **(GET)**   |   DB ì €ì¥ **(POST)**

#### DELETE

> DBì—ì„œ íŠ¹ì • ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì‚­ì œ

------------------------------------------------------------------------------------

#### POST

- ë°ì´í„°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ê¸°ë¡í•˜ëŠ” í–‰ìœ„
- ì˜ˆ) í‰ì  ê¸°ë¡

#### GET

- ì •ë³´ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©

### ModelForm ìƒì„±í•˜ê¸°

> forms.pyë¥¼ ìƒì„±í•˜ê³ , ê·¸ ì•ˆì—ë‹¤ ìƒˆë¡œìš´ classë¥¼ ë§Œë“ ë‹¤
>
> class ì•ˆì— model (models.pyì—ì„œ ê°€ì§€ê³  ì˜¤ëŠ” class ì´ë¦„)ê³¼ í•´ë‹¹ ëª¨ë¸ì˜ fieldë¥¼ ì„¤ì •í•œë‹¤

![modelform](Django_7.assets/modelform.png)

### Create

> createì´ë¼ëŠ” í•¨ìˆ˜ ì•ˆì— ì…ë ¥ì°½ê³¼ ì…ë ¥ê°’ ì €ì¥ì„ í•œë²ˆì— í•  ìˆ˜ ìˆë‹¤
>
> ë¨¼ì € create/ ì´ë¼ëŠ” url ì— ë“¤ì–´ì˜¤ë©´ ë©”ì„œë“œê°€ `GET`ì´ê¸° ë•Œë¬¸ì— ë°”ë¡œ 13ë²ˆ ì¤„ë¡œ ê°€ê²Œ ëœë‹¤.
>
> - 13ë²ˆ ì¤„ì—ì„œ reviewForm ì´ë¼ëŠ” ModelFormì„ review_formì— ì €ì¥ì„ í•œë‹¤
> - ê·¸ë¦¬ê³  ê·¸ review_formì„ HTML ë¬¸ì„œì— ë³´ë‚¸ë‹¤
> - HTML ë¬¸ì„œì— `{{ review_form.as_p }}` ë¥¼ í†µí•´ ì…ë ¥ì°½ì´ ë³´ì´ê²Œ ëœë‹¤
>
> í•´ë‹¹ ì…ë ¥ì°½ì— ìœ ì €ê°€ ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ ë©”ì„œë“œê°€ `POST`ë¡œ ë°”ë€Œê³  7ë²ˆì¤„ë¡œ ë„˜ì–´ê°„ë‹¤
>
> - 7ë²ˆì¤„ì—ì„œ ìœ ì €ê°€ ì…ë ¥í•œ ë°ì´í„°ë¥¼ `request.POST`ë¥¼ í†µí•´ ê°€ì§€ê³  ì˜¨ë‹¤
> - ê°€ì§€ê³  ì˜¨ ë°ì´í„°ë¥¼, review_form ë³€ìˆ˜ì— ì €ì¥ì„ í•œë‹¤
>
> í•´ë‹¹ ë³€ìˆ˜ì•ˆì— ì…ë ¥í•œ ë°ì´í„°ê°€ ìœ íš¨í•˜ë©´ 10ë²ˆ ì¤„ë¡œê°„ë‹¤
>
> - review_formì„ ì €ì¥í•˜ê³ , index í˜ì´ì§€ë¡œ ë„˜ì–´ê°„ë‹¤
>
> ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´, ë‹¤ì‹œ 18ë²ˆì¤„ë¡œ ê°€ê²Œ ë˜ê³ , ì—ëŸ¬ ë©”ì„¸ì§€ê°€ ë‚˜ì˜¨ë‹¤

![Modelform2](Django_7.assets/Modelform2.png)

### Update

> createì™€ ë˜‘ê°™ë‹¤
>
> ë‹¤ë§Œ, Updateê°™ì€ ê²½ìš° **íŠ¹ì •** ë°ì´í„°ë¥¼ ìˆ˜ì •ì„ í•œë‹¤
>
> ê·¸ë˜ì„œ `instance=review` ë¥¼ í†µí•´ ìˆ˜ì •ì„ í•  íŠ¹ì • ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¬ ìˆ˜ ìˆë‹¤
>
> - ì—¬ê¸°ì„œ reviewëŠ” 44ë²ˆ ì¤„ì—, Review ë°ì´í„°ë² ì´ìŠ¤ì˜ pkê°’ì„ ì¼ì¹˜í•œ ë°ì´í„°ë‹¤

![modelform3](Django_7.assets/modelform3.png)

- `<form action="">` : ë™ì¼í•œ URLì— ìˆëŠ” ê²ƒì´ë¼ì„œ actionì€ ë¹„ì›Œë†”ë„ ëœë‹¤
  - `views.py` ì— return ê°’ì´ `/edit/html`ì´ë‹¤



## âœ”ï¸ Bootstrap

> ModelForm ê°™ì€ ê²½ìš°, Django-Bootstrapì„ í†µí•´ì„œ ê¾¸ë©°ì¤€ë‹¤
>
> Django-Bootstrapì„ ì‚¬ìš©í•˜ë©´, ì•Œì•„ì„œ ModelFormì˜ fieldë³„ë¡œ Bootstrap ë””ìì¸ìœ¼ë¡œ ê¾¸ë©°ì¤€ë‹¤

![bootstrap](Django_7.assets/bootstrap.png)

1. í„°ë¯¸ë„ì— `$ pip install django-bootstrap5` ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤
2. settings.pyì˜ INSTALLED_APPSì— `'bootstrap5'`ë¥¼ ì…ë ¥/ì €ì¥í•œë‹¤
3. ModelFormì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” HTML ë¬¸ì„œì— `{% load bootstrap5 %}ì„ ì…ë ¥í•œë‹¤
   - ì—¬ê¸°ì„œ `load` ëŠ” ` import` ê°™ì€ ê°œë…ì´ë‹¤
4. `{% bootstrap_form formì´ë¦„ %}`ì„ ì…ë ¥í•˜ë©´, ModelFormì„ bootstrapì´ í•„ë“œì™€ ì¼ì¹˜ì‹œì¼œ ê¾¸ë©°ì¤€ë‹¤

_______________________



## âœ”ï¸ Static File

> CSS, Javascript, images ë“±ì„ `static file`ì— templatesì²˜ëŸ¼ ì €ì¥í•´ì„œ ì‚¬ìš©í•œë‹¤

![staticfile](Django_7.assets/staticfile.png)
